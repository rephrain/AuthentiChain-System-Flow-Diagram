<svg viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="1200" height="800" fill="#f8f9fa"/>
  
  <!-- Title -->
  <text x="600" y="30" text-anchor="middle" font-size="20" font-weight="bold" fill="#2c3e50">AuthentiChain System Flow Diagram</text>
  
  <!-- Data Ingestion Layer -->
  <rect x="50" y="70" width="280" height="120" fill="#e3f2fd" stroke="#1976d2" stroke-width="2" rx="5"/>
  <text x="190" y="90" text-anchor="middle" font-size="14" font-weight="bold" fill="#1976d2">Data Ingestion</text>
  
  <!-- Agency Devices -->
  <rect x="70" y="105" width="110" height="35" fill="#bbdefb" stroke="#1976d2" rx="3"/>
  <text x="125" y="125" text-anchor="middle" font-size="11" fill="#0d47a1">Agency Devices</text>
  <text x="125" y="137" text-anchor="middle" font-size="9" fill="#0d47a1">(Body Cam, Dashcam)</text>
  
  <!-- Third Party Upload -->
  <rect x="200" y="105" width="110" height="35" fill="#bbdefb" stroke="#1976d2" rx="3"/>
  <text x="255" y="125" text-anchor="middle" font-size="11" fill="#0d47a1">Third-Party Upload</text>
  <text x="255" y="137" text-anchor="middle" font-size="9" fill="#0d47a1">(Web Portal)</text>
  
  <!-- Secure Hash/Metadata -->
  <rect x="70" y="150" width="240" height="25" fill="#90caf9" stroke="#1976d2" rx="3"/>
  <text x="190" y="165" text-anchor="middle" font-size="10" fill="#0d47a1">SHA-256 Hash + Metadata Extraction + Encryption</text>
  
  <!-- Processing Pipeline -->
  <rect x="400" y="70" width="350" height="200" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2" rx="5"/>
  <text x="575" y="90" text-anchor="middle" font-size="14" font-weight="bold" fill="#7b1fa2">Authentication Pipeline</text>
  
  <!-- Provenance Check -->
  <rect x="420" y="105" width="140" height="35" fill="#e1bee7" stroke="#7b1fa2" rx="3"/>
  <text x="490" y="120" text-anchor="middle" font-size="11" fill="#4a148c">Provenance</text>
  <text x="490" y="132" text-anchor="middle" font-size="11" fill="#4a148c">Verification</text>
  
  <!-- Deepfake Detection -->
  <rect x="580" y="105" width="140" height="35" fill="#e1bee7" stroke="#7b1fa2" rx="3"/>
  <text x="650" y="120" text-anchor="middle" font-size="11" fill="#4a148c">Multi-Modal</text>
  <text x="650" y="132" text-anchor="middle" font-size="11" fill="#4a148c">Deepfake Detection</text>
  
  <!-- AI Models -->
  <rect x="420" y="150" width="100" height="25" fill="#ce93d8" stroke="#7b1fa2" rx="3"/>
  <text x="470" y="165" text-anchor="middle" font-size="10" fill="#4a148c">Audio AI</text>
  
  <rect x="530" y="150" width="100" height="25" fill="#ce93d8" stroke="#7b1fa2" rx="3"/>
  <text x="580" y="165" text-anchor="middle" font-size="10" fill="#4a148c">Image AI</text>
  
  <rect x="640" y="150" width="100" height="25" fill="#ce93d8" stroke="#7b1fa2" rx="3"/>
  <text x="690" y="165" text-anchor="middle" font-size="10" fill="#4a148c">Video AI</text>
  
  <!-- Explainable AI -->
  <rect x="420" y="185" width="300" height="30" fill="#ba68c8" stroke="#7b1fa2" rx="3"/>
  <text x="570" y="205" text-anchor="middle" font-size="11" fill="#4a148c">Explainable AI Engine (LIME/SHAP + Confidence Scoring)</text>
  
  <!-- Ensemble Decision -->
  <rect x="490" y="225" width="160" height="30" fill="#ab47bc" stroke="#7b1fa2" rx="3"/>
  <text x="570" y="245" text-anchor="middle" font-size="11" fill="white">Ensemble Decision Engine</text>
  
  <!-- Chain of Custody -->
  <rect x="820" y="70" width="280" height="120" fill="#e8f5e8" stroke="#388e3c" stroke-width="2" rx="5"/>
  <text x="960" y="90" text-anchor="middle" font-size="14" font-weight="bold" fill="#388e3c">Chain of Custody</text>
  
  <!-- Blockchain Ledger -->
  <rect x="840" y="105" width="240" height="35" fill="#c8e6c9" stroke="#388e3c" rx="3"/>
  <text x="960" y="120" text-anchor="middle" font-size="11" fill="#1b5e20">Blockchain Ledger</text>
  <text x="960" y="132" text-anchor="middle" font-size="9" fill="#1b5e20">(Hyperledger Fabric)</text>
  
  <!-- Audit Trail -->
  <rect x="840" y="150" width="240" height="25" fill="#a5d6a7" stroke="#388e3c" rx="3"/>
  <text x="960" y="165" text-anchor="middle" font-size="10" fill="#1b5e20">Immutable Audit Trail + User Actions</text>
  
  <!-- Decision Interface -->
  <rect x="250" y="350" width="280" height="120" fill="#fff3e0" stroke="#f57c00" stroke-width="2" rx="5"/>
  <text x="390" y="370" text-anchor="middle" font-size="14" font-weight="bold" fill="#f57c00">Decision Support Interface</text>
  
  <!-- One-Click Decision -->
  <rect x="270" y="385" width="240" height="35" fill="#ffe0b2" stroke="#f57c00" rx="3"/>
  <text x="390" y="400" text-anchor="middle" font-size="11" fill="#e65100">One-Click Authentication</text>
  <text x="390" y="412" text-anchor="middle" font-size="9" fill="#e65100">(Green/Yellow/Red + Confidence Score)</text>
  
  <!-- Dashboard -->
  <rect x="270" y="430" width="240" height="25" fill="#ffcc02" stroke="#f57c00" rx="3"/>
  <text x="390" y="445" text-anchor="middle" font-size="10" fill="#e65100">Interactive Dashboard + Risk Visualization</text>
  
  <!-- Report Generation -->
  <rect x="650" y="350" width="280" height="120" fill="#fce4ec" stroke="#c2185b" stroke-width="2" rx="5"/>
  <text x="790" y="370" text-anchor="middle" font-size="14" font-weight="bold" fill="#c2185b">Court-Ready Reports</text>
  
  <!-- PDF Generation -->
  <rect x="670" y="385" width="240" height="35" fill="#f8bbd9" stroke="#c2185b" rx="3"/>
  <text x="790" y="400" text-anchor="middle" font-size="11" fill="#880e4f">Automated PDF Generation</text>
  <text x="790" y="412" text-anchor="middle" font-size="9" fill="#880e4f">(Technical Findings + Chain of Custody)</text>
  
  <!-- Legal Documentation -->
  <rect x="670" y="430" width="240" height="25" fill="#f48fb1" stroke="#c2185b" rx="3"/>
  <text x="790" y="445" text-anchor="middle" font-size="10" fill="#880e4f">Expert Testimony Support Materials</text>
  
  <!-- Security Layer -->
  <rect x="200" y="550" width="800" height="80" fill="#f5f5f5" stroke="#616161" stroke-width="2" rx="5"/>
  <text x="600" y="570" text-anchor="middle" font-size="14" font-weight="bold" fill="#424242">Security & Compliance Layer</text>
  
  <!-- Security Features -->
  <rect x="220" y="585" width="130" height="25" fill="#e0e0e0" stroke="#616161" rx="3"/>
  <text x="285" y="600" text-anchor="middle" font-size="10" fill="#212121">FedRAMP Compliant</text>
  
  <rect x="365" y="585" width="130" height="25" fill="#e0e0e0" stroke="#616161" rx="3"/>
  <text x="430" y="600" text-anchor="middle" font-size="10" fill="#212121">CJIS Security Policy</text>
  
  <rect x="510" y="585" width="130" height="25" fill="#e0e0e0" stroke="#616161" rx="3"/>
  <text x="575" y="600" text-anchor="middle" font-size="10" fill="#212121">End-to-End Encryption</text>
  
  <rect x="655" y="585" width="130" height="25" fill="#e0e0e0" stroke="#616161" rx="3"/>
  <text x="720" y="600" text-anchor="middle" font-size="10" fill="#212121">Role-Based Access</text>
  
  <rect x="800" y="585" width="130" height="25" fill="#e0e0e0" stroke="#616161" rx="3"/>
  <text x="865" y="600" text-anchor="middle" font-size="10" fill="#212121">SOC 2 Type II</text>
  
  <!-- Cloud Infrastructure -->
  <rect x="400" y="680" width="400" height="60" fill="#e1f5fe" stroke="#0277bd" stroke-width="2" rx="5"/>
  <text x="600" y="700" text-anchor="middle" font-size="14" font-weight="bold" fill="#0277bd">Cloud-Native Infrastructure</text>
  <text x="600" y="720" text-anchor="middle" font-size="11" fill="#01579b">Kubernetes • Auto-Scaling • Multi-Region • CDN</text>
  
  <!-- Flow Arrows -->
  <!-- Ingestion to Processing -->
  <path d="M 330 130 L 400 130" fill="none" stroke="#555" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Processing to Chain of Custody -->
  <path d="M 750 130 L 820 130" fill="none" stroke="#555" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Processing to Decision Interface -->
  <path d="M 500 270 L 390 350" fill="none" stroke="#555" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Processing to Reports -->
  <path d="M 650 270 L 790 350" fill="none" stroke="#555" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Chain of Custody to Reports -->
  <path d="M 960 190 L 790 350" fill="none" stroke="#555" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Decision Interface to Reports -->
  <path d="M 530 410 L 650 410" fill="none" stroke="#555" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#555"/>
    </marker>
  </defs>
  
  <!-- Legend -->
  <rect x="50" y="680" width="300" height="100" fill="#f8f9fa" stroke="#666" stroke-width="1" rx="3"/>
  <text x="200" y="700" text-anchor="middle" font-size="12" font-weight="bold" fill="#333">Data Flow Legend</text>
  
  <!-- Legend Items -->
  <rect x="70" y="710" width="15" height="10" fill="#e3f2fd" stroke="#1976d2"/>
  <text x="90" y="720" font-size="10" fill="#333">Data Ingestion</text>
  
  <rect x="180" y="710" width="15" height="10" fill="#f3e5f5" stroke="#7b1fa2"/>
  <text x="200" y="720" font-size="10" fill="#333">AI Processing</text>
  
  <rect x="70" y="730" width="15" height="10" fill="#e8f5e8" stroke="#388e3c"/>
  <text x="90" y="740" font-size="10" fill="#333">Chain of Custody</text>
  
  <rect x="180" y="730" width="15" height="10" fill="#fff3e0" stroke="#f57c00"/>
  <text x="200" y="740" font-size="10" fill="#333">User Interface</text>
  
  <rect x="70" y="750" width="15" height="10" fill="#fce4ec" stroke="#c2185b"/>
  <text x="90" y="760" font-size="10" fill="#333">Report Generation</text>
  
  <rect x="180" y="750" width="15" height="10" fill="#f5f5f5" stroke="#616161"/>
  <text x="200" y="760" font-size="10" fill="#333">Security Layer</text>
</svg>